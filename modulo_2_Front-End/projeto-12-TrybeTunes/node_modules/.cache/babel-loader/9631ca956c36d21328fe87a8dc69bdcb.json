{"ast":null,"code":"var _jsxFileName = \"/home/luciano/projetos/projeto-14-TrybeTunes/sd-021-a-project-trybetunes/src/pages/Favorites.js\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Carregando from '../components/Carregando';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Favorites extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      musicas: '',\n      carregando: false,\n      favoritesSongs: []\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        carregando: true\n      }, async () => {\n        const favoritesSongs = await getFavoriteSongs();\n        this.setState({\n          favoritesSongs,\n          carregando: false\n        });\n      });\n    };\n\n    this.componentDidUpdate = () => {\n      this.setState({\n        carregando: true\n      }, async () => {\n        const favoritesSongs = await getFavoriteSongs();\n        this.setState({\n          favoritesSongs,\n          carregando: false\n        });\n      });\n    };\n\n    this.renderMusic = () => {\n      const {\n        musicas\n      } = this.state;\n\n      if (musicas) {\n        return musicas.map(musica => /*#__PURE__*/_jsxDEV(MusicCard, {\n          musica: musica,\n          onChange: this.handleChange,\n          image: musica.artworkUrl100\n        }, musica.trackName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this));\n      }\n    };\n  }\n\n  render() {\n    const {\n      favoritesSongs,\n      carregando\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-favorites\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [carregando && /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 26\n        }, this), favoritesSongs.map(music => /*#__PURE__*/_jsxDEV(MusicCard, {\n          musica: music,\n          image: music.artworkUrl100,\n          isChecked: true // addFavoriteSong={ () => this.removeFavoriteSong(music) }\n\n        }, music.trackId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Favorites;","map":{"version":3,"sources":["/home/luciano/projetos/projeto-14-TrybeTunes/sd-021-a-project-trybetunes/src/pages/Favorites.js"],"names":["React","Header","MusicCard","getFavoriteSongs","Carregando","Favorites","Component","state","musicas","carregando","favoritesSongs","componentDidMount","setState","componentDidUpdate","renderMusic","map","musica","handleChange","artworkUrl100","trackName","render","music","trackId"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;;AAEA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCC,KADsC,GAC9B;AACNC,MAAAA,OAAO,EAAE,EADH;AAENC,MAAAA,UAAU,EAAE,KAFN;AAGNC,MAAAA,cAAc,EAAE;AAHV,KAD8B;;AAAA,SAQtCC,iBARsC,GAQlB,MAAM;AACxB,WAAKC,QAAL,CAAc;AAAEH,QAAAA,UAAU,EAAE;AAAd,OAAd,EAAoC,YAAY;AAC9C,cAAMC,cAAc,GAAG,MAAMP,gBAAgB,EAA7C;AACA,aAAKS,QAAL,CAAc;AAAEF,UAAAA,cAAF;AAAkBD,UAAAA,UAAU,EAAE;AAA9B,SAAd;AACD,OAHD;AAID,KAbqC;;AAAA,SAetCI,kBAfsC,GAejB,MAAM;AACzB,WAAKD,QAAL,CAAc;AAAEH,QAAAA,UAAU,EAAE;AAAd,OAAd,EAAoC,YAAY;AAC9C,cAAMC,cAAc,GAAG,MAAMP,gBAAgB,EAA7C;AACA,aAAKS,QAAL,CAAc;AAAEF,UAAAA,cAAF;AAAkBD,UAAAA,UAAU,EAAE;AAA9B,SAAd;AACD,OAHD;AAID,KApBqC;;AAAA,SAuDtCK,WAvDsC,GAuDxB,MAAM;AAClB,YAAM;AAAEN,QAAAA;AAAF,UAAc,KAAKD,KAAzB;;AAEA,UAAIC,OAAJ,EAAa;AACX,eAAOA,OAAO,CAACO,GAAR,CAAaC,MAAD,iBACjB,QAAC,SAAD;AACE,UAAA,MAAM,EAAGA,MADX;AAGE,UAAA,QAAQ,EAAG,KAAKC,YAHlB;AAIE,UAAA,KAAK,EAAGD,MAAM,CAACE;AAJjB,WAEQF,MAAM,CAACG,SAFf;AAAA;AAAA;AAAA;AAAA,gBADK,CAAP;AAQD;AACF,KApEqC;AAAA;;AAsEtCC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEV,MAAAA,cAAF;AAAkBD,MAAAA;AAAlB,QAAiC,KAAKF,KAA5C;AACA,wBACE;AAAK,qBAAY,gBAAjB;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE;AAAA,mBACGE,UAAU,iBAAI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,gBADjB,EAEGC,cAAc,CAACK,GAAf,CAAoBM,KAAD,iBAClB,QAAC,SAAD;AAEE,UAAA,MAAM,EAAGA,KAFX;AAGE,UAAA,KAAK,EAAGA,KAAK,CAACH,aAHhB;AAIE,UAAA,SAAS,MAJX,CAKE;;AALF,WACQG,KAAK,CAACC,OADd;AAAA;AAAA;AAAA;AAAA,gBADD,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAqBD;;AA7FqC;;AAgGxC,eAAejB,SAAf","sourcesContent":["import React from 'react';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Carregando from '../components/Carregando';\n\nclass Favorites extends React.Component {\n  state = {\n    musicas: '',\n    carregando: false,\n    favoritesSongs: [],\n  };\n\n  // daqui\n  componentDidMount = () => {\n    this.setState({ carregando: true }, async () => {\n      const favoritesSongs = await getFavoriteSongs();\n      this.setState({ favoritesSongs, carregando: false });\n    });\n  };\n\n  componentDidUpdate = () => {\n    this.setState({ carregando: true }, async () => {\n      const favoritesSongs = await getFavoriteSongs();\n      this.setState({ favoritesSongs, carregando: false });\n    });\n  }\n\n  // removeFavoriteSong = (music) => {\n  //   this.setState({ carregando: true }, async () => {\n  //     await removeSong(music);\n  //     const newFavorites = await getFavoriteSongs();\n  //     this.setState({ carregando: false, favoritesSongs: newFavorites });\n  //   });\n  // }\n\n  // atÃ© aqui\n  // componentDidMount() {\n  //   this.updateFavoritesSongs();\n  // }\n\n  // componentDidUpdate() {\n  //   this.updateFavoritesSongs();\n  // }\n\n  // updateFavoritesSongs = () => {\n  //   const { carregando } = this.state;\n  //   getFavoriteSongs().then((musicas) => {\n  //     if (carregando) {\n  //       this.setState(() => ({\n  //         musicas,\n  //         carregando: false,\n  //       }));\n  //     }\n  //   });\n  // };\n\n  // handleChange = () => {\n  //   this.setState({ carregando: true });\n  // };\n\n  renderMusic = () => {\n    const { musicas } = this.state;\n\n    if (musicas) {\n      return musicas.map((musica) => (\n        <MusicCard\n          musica={ musica }\n          key={ musica.trackName }\n          onChange={ this.handleChange }\n          image={ musica.artworkUrl100 }\n        />\n      ));\n    }\n  };\n\n  render() {\n    const { favoritesSongs, carregando } = this.state;\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        <div>\n          {/* {!musicas ? <Carregando /> : this.renderMusic()} */}\n        </div>\n        <div>\n          {carregando && <Carregando />}\n          {favoritesSongs.map((music) => (\n            <MusicCard\n              key={ music.trackId }\n              musica={ music }\n              image={ music.artworkUrl100 }\n              isChecked\n              // addFavoriteSong={ () => this.removeFavoriteSong(music) }\n            />\n          ))}\n        </div>\n        <p>Favorites</p>\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n"]},"metadata":{},"sourceType":"module"}