{"ast":null,"code":"var _jsxFileName = \"/home/luciano/projetos/projeto-14-TrybeTunes/sd-021-a-project-trybetunes/src/pages/Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Carregando from '../components/Carregando';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      disabled: true,\n      nomeArtista: '',\n      carregando: false,\n      nomeAlbum: null\n    };\n\n    this.countName = _ref => {\n      let {\n        target: {\n          value\n        }\n      } = _ref;\n      const sizeMin = 2;\n      const nomeArtista = value;\n      this.setState({\n        nomeArtista\n      });\n\n      if (value.length >= sizeMin) {\n        this.setState({\n          disabled: false\n        });\n        this.name = nomeArtista;\n      }\n    };\n\n    this.buscarAlbum = () => {\n      const {\n        nomeArtista\n      } = this.state;\n      this.setState({\n        carregando: true\n      });\n      searchAlbumsAPI(nomeArtista).then(result => {\n        this.setState({\n          carregando: false,\n          nomeAlbum: result,\n          nomeArtista: ''\n        });\n      });\n    };\n\n    this.album = () => {\n      const {\n        nomeAlbum\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"albuns-group\",\n        children: nomeAlbum.map(_ref2 => {\n          let {\n            collectionId,\n            artistName,\n            collectionName,\n            artworkUrl100\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(Link, {\n            \"data-testid\": `link-to-album-${collectionId}`,\n            to: `/album/${collectionId}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: artworkUrl100,\n                alt: collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: artistName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)\n          }, collectionId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.confirmarAlbum = () => {\n      const {\n        name,\n        state: {\n          nomeAlbum\n        }\n      } = this;\n\n      if (nomeAlbum) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: `Resultado de álbuns de: ${name}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), nomeAlbum.length > 0 ? this.album() : /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Nenhum \\xE1lbum foi encontrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true);\n      }\n    };\n  }\n\n  render() {\n    const {\n      disabled,\n      nomeArtista,\n      carregando\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"BuscarNomeArtista\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: nomeArtista,\n          \"data-testid\": \"search-artist-input\",\n          type: \"text\",\n          placeholder: \"Nome do artista\",\n          id: \"BuscarNomeArtista\",\n          className: \"BuscarNomeArtista\",\n          onChange: this.countName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"BotaoProcurarArtista\",\n        \"data-testid\": \"search-artist-button\",\n        disabled: disabled,\n        onClick: this.buscarAlbum,\n        children: \"Pesquisar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), carregando ? /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 24\n      }, this) : this.confirmarAlbum(), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/luciano/projetos/projeto-14-TrybeTunes/sd-021-a-project-trybetunes/src/pages/Search.js"],"names":["React","Link","Header","Carregando","searchAlbumsAPI","Search","Component","state","disabled","nomeArtista","carregando","nomeAlbum","countName","target","value","sizeMin","setState","length","name","buscarAlbum","then","result","album","map","collectionId","artistName","collectionName","artworkUrl100","confirmarAlbum","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Carregando from '../components/Carregando';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends React.Component {\n  state = {\n    disabled: true,\n    nomeArtista: '',\n    carregando: false,\n    nomeAlbum: null,\n  };\n\n  countName = ({ target: { value } }) => {\n    const sizeMin = 2;\n\n    const nomeArtista = value;\n\n    this.setState({ nomeArtista });\n\n    if (value.length >= sizeMin) {\n      this.setState({ disabled: false });\n      this.name = nomeArtista;\n    }\n  }\n\n  buscarAlbum = () => {\n    const { nomeArtista } = this.state;\n\n    this.setState({ carregando: true });\n\n    searchAlbumsAPI(nomeArtista).then((result) => {\n      this.setState({\n        carregando: false,\n        nomeAlbum: result,\n        nomeArtista: '',\n      });\n    });\n  }\n\n  album = () => {\n    const { nomeAlbum } = this.state;\n    return (\n      <div className=\"albuns-group\">\n        {\n          nomeAlbum\n            .map(({ collectionId, artistName, collectionName, artworkUrl100 }) => (\n              <Link\n                key={ collectionId }\n                data-testid={ `link-to-album-${collectionId}` }\n                to={ `/album/${collectionId}` }\n              >\n                <div>\n                  <img src={ artworkUrl100 } alt={ collectionName } />\n                  <h4>{artistName}</h4>\n                  <h5>{collectionName}</h5>\n                </div>\n              </Link>\n            ))\n        }\n\n      </div>\n    );\n  }\n\n  confirmarAlbum = () => {\n    const { name, state: { nomeAlbum } } = this;\n    if (nomeAlbum) {\n      return (\n        <>\n          <h2>{`Resultado de álbuns de: ${name}`}</h2>\n          { nomeAlbum.length > 0\n            ? this.album()\n            : <h3>Nenhum álbum foi encontrado</h3> }\n        </>\n      );\n    }\n  }\n\n  render() {\n    const { disabled, nomeArtista, carregando } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <label htmlFor=\"BuscarNomeArtista\">\n          <input\n            value={ nomeArtista }\n            data-testid=\"search-artist-input\"\n            type=\"text\"\n            placeholder=\"Nome do artista\"\n            id=\"BuscarNomeArtista\"\n            className=\"BuscarNomeArtista\"\n            onChange={ this.countName }\n          />\n        </label>\n        <button\n          type=\"submit\"\n          className=\"BotaoProcurarArtista\"\n          data-testid=\"search-artist-button\"\n          disabled={ disabled }\n          onClick={ this.buscarAlbum }\n        >\n          Pesquisar\n        </button>\n        { carregando ? <Carregando /> : this.confirmarAlbum() }\n        <p>Search</p>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}